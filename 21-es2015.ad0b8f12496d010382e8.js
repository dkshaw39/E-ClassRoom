(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{X1cD:function(t,o,n){"use strict";n.r(o),n.d(o,"ClassroomsPageModule",(function(){return M}));var i=n("ofXK"),e=n("3Pt+"),c=n("TEn/"),s=n("tyNb"),r=n("mrSG"),l=n("fXoL"),b=n("OmBq");let a=(()=>{class t{constructor(t,o,n){this.modalController=t,this.formBuilder=o,this.classroomService=n,this.classForm=this.formBuilder.group({Institute:["",[e.m.required]],Name:["",[e.m.required]],Section:["",[e.m.required]]})}get Name(){return this.classForm.get("Name")}get Section(){return this.classForm.get("Section")}get Institute(){return this.classForm.get("Institute")}ngOnInit(){}closeModal(){this.modalController.dismiss()}onSubmit(){this.classroomService.add(this.Institute.value,this.Name.value,this.Section.value),this.closeModal()}}return t.\u0275fac=function(o){return new(o||t)(l.Kb(c.V),l.Kb(e.a),l.Kb(b.a))},t.\u0275cmp=l.Eb({type:t,selectors:[["app-modal-addclassroom"]],decls:32,vars:2,consts:[["slot","end"],["color","blackwhite",3,"click"],["slot","icon-only","name","close"],[3,"formGroup","ngSubmit"],["fixed",""],[1,"ion-padding-bottom"],["size","8","offset","2","size-lg","4","offset-lg","4",1,"ion-text-center","ion-text-uppercase"],[1,"ion-no-padding"],["size","8","offset","2","size-lg","4","offset-lg","4",1,"ion-text-center"],["position","floating"],["required","","formControlName","Institute","type","text"],["required","","formControlName","Name","type","text"],["required","","formControlName","Section","type","text"],[1,"ion-padding-top"],["color","blackwhite","type","submit","expand","block","shape","round",3,"disabled"]],template:function(t,o){1&t&&(l.Nb(0,"ion-toolbar"),l.Nb(1,"ion-buttons",0),l.Nb(2,"ion-button",1),l.Vb("click",(function(){return o.closeModal()})),l.Lb(3,"ion-icon",2),l.Mb(),l.Mb(),l.Mb(),l.Nb(4,"form",3),l.Vb("ngSubmit",(function(){return o.onSubmit()})),l.Nb(5,"ion-grid",4),l.Nb(6,"ion-row",5),l.Nb(7,"ion-col",6),l.Nb(8,"h6"),l.mc(9,"ADD Classroom"),l.Mb(),l.Mb(),l.Mb(),l.Nb(10,"ion-row",7),l.Nb(11,"ion-col",8),l.Nb(12,"ion-item"),l.Nb(13,"ion-label",9),l.mc(14,"Institute"),l.Mb(),l.Lb(15,"ion-input",10),l.Mb(),l.Mb(),l.Mb(),l.Nb(16,"ion-row",7),l.Nb(17,"ion-col",8),l.Nb(18,"ion-item"),l.Nb(19,"ion-label",9),l.mc(20,"Class Name"),l.Mb(),l.Lb(21,"ion-input",11),l.Mb(),l.Mb(),l.Mb(),l.Nb(22,"ion-row",7),l.Nb(23,"ion-col",8),l.Nb(24,"ion-item"),l.Nb(25,"ion-label",9),l.mc(26,"Section / Batch"),l.Mb(),l.Lb(27,"ion-input",12),l.Mb(),l.Mb(),l.Mb(),l.Nb(28,"ion-row",13),l.Nb(29,"ion-col",8),l.Nb(30,"ion-button",14),l.mc(31," Add Class "),l.Mb(),l.Mb(),l.Mb(),l.Mb(),l.Mb()),2&t&&(l.Ab(4),l.cc("formGroup",o.classForm),l.Ab(26),l.cc("disabled",o.classForm.invalid))},directives:[c.Q,c.g,c.f,c.s,e.n,e.h,e.c,c.q,c.J,c.m,c.w,c.A,c.v,c.cb,e.l,e.g,e.b],styles:["form[_ngcontent-%COMP%]{margin:auto 0}h6[_ngcontent-%COMP%]{letter-spacing:.4rem}"]}),t})();var d=n("sYmb");function u(t,o){1&t&&(l.Nb(0,"ion-item"),l.Nb(1,"ion-label",12),l.mc(2,"Please enroll yourself in a class"),l.Mb(),l.Mb())}function m(t,o){if(1&t){const t=l.Ob();l.Nb(0,"ion-item-sliding",14),l.Nb(1,"ion-item",15),l.Nb(2,"ion-icon",16),l.Vb("click",(function(){return l.hc(t),l.Xb(3).clickOnDetail()})),l.Mb(),l.Nb(3,"ion-label",17),l.Vb("click",(function(){l.hc(t);const o=l.Xb().$implicit;return l.Xb(2).clickOnSubject(o.Id,o.Subjects)})),l.Nb(4,"ion-card-header",18),l.Nb(5,"ion-card-subtitle"),l.mc(6),l.Mb(),l.Nb(7,"ion-card-title"),l.mc(8),l.Mb(),l.Mb(),l.Nb(9,"ion-card-content",3),l.Nb(10,"ul",19),l.Nb(11,"li"),l.Nb(12,"b"),l.mc(13),l.Mb(),l.Lb(14,"br"),l.mc(15,"STUDENTS"),l.Mb(),l.Nb(16,"li"),l.Nb(17,"b"),l.mc(18),l.Mb(),l.Lb(19,"br"),l.mc(20,"TEACHERS"),l.Mb(),l.Nb(21,"li"),l.Nb(22,"b"),l.mc(23),l.Mb(),l.Lb(24,"br"),l.mc(25,"SUBJECTS"),l.Mb(),l.Mb(),l.Mb(),l.Mb(),l.Mb(),l.Nb(26,"ion-item-options",20),l.Nb(27,"ion-item-option",10),l.Vb("click",(function(){l.hc(t);const o=l.Xb().$implicit;return l.Xb(2).onEdit(o.Id)})),l.mc(28,"EDIT "),l.Lb(29,"ion-icon",21),l.Mb(),l.Mb(),l.Nb(30,"ion-item-options",22),l.Nb(31,"ion-item-option",10),l.Vb("click",(function(){l.hc(t);const o=l.Xb().$implicit;return l.Xb(2).onEdit(o.Id)})),l.mc(32,"EDIT "),l.Lb(33,"ion-icon",21),l.Mb(),l.Mb(),l.Mb()}if(2&t){const t=l.Xb().$implicit;l.Ab(6),l.oc("Section ",t.Section,""),l.Ab(2),l.nc(t.Name),l.Ab(5),l.nc(t.TotalStudents),l.Ab(5),l.nc(t.TotalTeachers),l.Ab(5),l.nc(t.TotalSubjects)}}function f(t,o){if(1&t&&(l.Nb(0,"div"),l.lc(1,m,34,5,"ion-item-sliding",13),l.Mb()),2&t){const t=o.$implicit,n=l.Xb().$implicit;l.Ab(1),l.cc("ngIf",n===t.Institute)}}function g(t,o){if(1&t&&(l.Nb(0,"div"),l.Nb(1,"ion-item"),l.Nb(2,"ion-label"),l.mc(3),l.Mb(),l.Mb(),l.lc(4,f,2,1,"div",6),l.Mb()),2&t){const t=o.$implicit,n=l.Xb();l.Ab(3),l.nc(t),l.Ab(1),l.cc("ngForOf",n.classes)}}const h=[{path:"",component:(()=>{class t{constructor(t,o,n,i,e){this.classroomService=t,this.actionctrl=o,this.modalController=n,this.router=i,this.loadingController=e,this.classes=[],this.institutes=[]}ngOnInit(){this.classroomService.loadClass().subscribe(t=>{this.clsSubscription=this.classroomService.getAllClass().subscribe(t=>{this.classes=t,this.classes.forEach(t=>{this.institutes.find(o=>o===t.Institute)||this.institutes.push(t.Institute)})})})}ngOnDestroy(){this.clsSubscription.unsubscribe()}loadData(t){setTimeout(()=>(console.log("Done"),t.target.complete(),t.target.disabled=!0,void(this.infiniteScroll.disabled=!0)),500)}createAlertAction(t){return Object(r.__awaiter)(this,void 0,void 0,(function*(){yield this.actionctrl.create({header:"Actions",buttons:t}).then(t=>t.present())}))}addClassroom(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){(yield this.modalController.create({component:a,componentProps:this.classes})).present()}))}onEdit(t){this.createAlertAction([{text:"Add Student",icon:"add-circle-outline",handler:()=>{this.router.navigate(["updateclassroom"],{queryParams:{classroomcode:t}}),console.log("Add Student")}},{text:"Add Teacher",icon:"add-circle-outline",handler:()=>{this.router.navigate(["updateclassroom"],{queryParams:{classroomcode:t}}),console.log("Add Teacher")}},{text:"Add Subject",icon:"add-circle-outline",handler:()=>{this.router.navigate(["updateclassroom"],{queryParams:{classroomcode:t}}),console.log("Add Subject")}},{text:"Cancel",icon:"close",role:"cancel"}])}clickOnDetail(){console.log("Click to move")}clickOnSubject(t,o){const n=[];o.forEach(o=>{console.log(o),n.push({text:o,icon:"book-outline",handler:()=>{this.router.navigate(["/","class_subject"],{queryParams:{classroomcode:t,subject:o}}),console.log(o)}})}),n.push({text:"Cancel",icon:"close",role:"cancel"}),this.createAlertAction(n)}}return t.\u0275fac=function(o){return new(o||t)(l.Kb(b.a),l.Kb(c.a),l.Kb(c.V),l.Kb(s.g),l.Kb(c.U))},t.\u0275cmp=l.Eb({type:t,selectors:[["app-classrooms"]],viewQuery:function(t,o){var n;1&t&&l.qc(c.t,!0),2&t&&l.gc(n=l.Wb())&&(o.infiniteScroll=n.first)},decls:19,vars:5,consts:[["slot","start"],["menu_id","m1"],["fixed","",1,"ion-no-padding"],[1,"ion-no-padding"],["size","12","size-md","6","offset-md","3",1,"ion-no-padding"],[4,"ngIf"],[4,"ngFor","ngForOf"],["threshold","100px",3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Loading more data..."],["vertical","bottom","horizontal","end","slot","fixed"],["color","blackwhite",3,"click"],["name","add-outline"],[1,"ion-text-center"],["class","classroom-item clear",4,"ngIf"],[1,"classroom-item","clear"],["lines","none",1,"clear"],["slot","end","name","chevron-forward-circle-outline",3,"click"],[1,"ion-no-margin","clear",3,"click"],[1,"clear"],[1,"custom-list"],["side","start"],["slot","icon-only","name","create-outline"],["side","end"]],template:function(t,o){1&t&&(l.Nb(0,"ion-header"),l.Nb(1,"ion-toolbar"),l.Nb(2,"ion-title"),l.mc(3),l.Yb(4,"translate"),l.Mb(),l.Nb(5,"ion-buttons",0),l.Lb(6,"ion-menu-button",1),l.Mb(),l.Mb(),l.Mb(),l.Nb(7,"ion-content"),l.Nb(8,"ion-grid",2),l.Nb(9,"ion-row",3),l.Nb(10,"ion-col",4),l.Nb(11,"ion-list"),l.lc(12,u,3,0,"ion-item",5),l.lc(13,g,5,2,"div",6),l.Mb(),l.Nb(14,"ion-infinite-scroll",7),l.Vb("ionInfinite",(function(t){return o.loadData(t)})),l.Lb(15,"ion-infinite-scroll-content",8),l.Mb(),l.Mb(),l.Mb(),l.Mb(),l.Nb(16,"ion-fab",9),l.Nb(17,"ion-fab-button",10),l.Vb("click",(function(){return o.addClassroom()})),l.Lb(18,"ion-icon",11),l.Mb(),l.Mb(),l.Mb()),2&t&&(l.Ab(3),l.nc(l.Zb(4,3,"CLASSROOM.Classroom")),l.Ab(9),l.cc("ngIf",0===o.classes.length),l.Ab(1),l.cc("ngForOf",o.institutes))},directives:[c.r,c.Q,c.P,c.g,c.E,c.n,c.q,c.J,c.m,c.B,i.i,i.h,c.t,c.u,c.o,c.p,c.s,c.w,c.A,c.z,c.j,c.k,c.l,c.i,c.y,c.x],pipes:[d.c],styles:['ion-content[_ngcontent-%COMP%]{--ion-background-color:#f1f1f1}.classroom-item[_ngcontent-%COMP%]{--ion-background-color:linear-gradient(180deg,#fff,#fdfdfd);z-index:2px}.classroom-item[_ngcontent-%COMP%], ion-card[_ngcontent-%COMP%]{margin:.6rem;box-shadow:0 1px 1px 0 rgba(0,0,0,.4);border-radius:0}ion-card[_ngcontent-%COMP%]{background-image:linear-gradient(180deg,#fff,#fdfdfd)}ion-card-header[_ngcontent-%COMP%]{padding-bottom:0}ul.custom-list[_ngcontent-%COMP%]{content:"";clear:both;width:100%;display:table;padding:0}.custom-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style-type:none;width:33.33333%;float:left;text-align:center}.icon-position[_ngcontent-%COMP%]{font-size:2rem;float:right}.clear[_ngcontent-%COMP%]{content:"";clear:both;width:auto}']}),t})()}];let p=(()=>{class t{}return t.\u0275mod=l.Ib({type:t}),t.\u0275inj=l.Hb({factory:function(o){return new(o||t)},imports:[[s.k.forChild(h)],s.k]}),t})(),M=(()=>{class t{}return t.\u0275mod=l.Ib({type:t}),t.\u0275inj=l.Hb({factory:function(o){return new(o||t)},imports:[[i.b,e.d,c.S,p,d.b]]}),t})()}}]);