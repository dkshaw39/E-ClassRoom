<ion-header>
  <ion-toolbar>
    <ion-title>{{'CLASSROOM.Classroom' | translate}}</ion-title>
    <ion-buttons slot="start">
      <ion-menu-button menu_id="m1"></ion-menu-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content>
  <ion-grid fixed class="ion-no-padding">
    <ion-row class="ion-no-padding">
      <ion-col size="12" size-md="6" offset-md="3" class="ion-no-padding">
        <!-- Infinite scroll -->

        <ion-list >
          <ion-item *ngIf="classes.length === 0">
            <ion-label class="ion-text-center">Please enroll yourself in a class</ion-label>
          </ion-item>
          <ion-item-sliding class="classroom-item clear" *ngFor="let class of classes">
            <ion-item  lines="none" class="clear">
              <ion-icon slot="end" name="chevron-forward-circle-outline" (click)="clickOnDetail()"></ion-icon>
              <ion-label (click)="clickOnSubject(class.Id, class.Subjects)" class="ion-no-margin clear">
                <ion-card-header class="clear">
                    <ion-card-subtitle>Section {{ class.Section }}</ion-card-subtitle>
                  <ion-card-title>{{ class.Name }}</ion-card-title>
                </ion-card-header>
                <ion-card-content class="ion-no-padding">
                  <ul class="custom-list">
                    <li><b>{{ class.TotalStudents }}</b><br>STUDENTS</li>
                    <li><b>{{ class.TotalTeachers }}</b><br>TEACHERS</li>
                    <li><b>{{ class.TotalSubjects }}</b><br>SUBJECTS</li>
                  </ul>
                </ion-card-content>
              </ion-label>
            </ion-item>

            <ion-item-options side="start">
              <ion-item-option color="blackwhite" (click)="onEdit(class.Id)">EDIT <ion-icon slot="icon-only" name="create-outline"></ion-icon></ion-item-option>
            </ion-item-options>
            <ion-item-options side="end">
              <ion-item-option color="blackwhite" (click)="onEdit(class.Id)">EDIT <ion-icon slot="icon-only" name="create-outline"></ion-icon></ion-item-option>
            </ion-item-options>
          </ion-item-sliding>
        </ion-list>

        <ion-infinite-scroll threshold="100px" (ionInfinite)="loadData($event)">
          <ion-infinite-scroll-content
            loadingSpinner="bubbles"
            loadingText="Loading more data...">
          </ion-infinite-scroll-content>
        </ion-infinite-scroll>

        <!-- Virtual scroll list with item sliding having overlap issue with 1st reload -->
        <!-- <ion-virtual-scroll [items]="classes" approxItemHeight="100px">
          <div *virtualItem="let class">
            
              <ion-item-sliding class="classroom-item clear">
                <ion-item  lines="none" class="clear">
                  <ion-icon slot="end" name="chevron-forward-circle-outline" (click)="clickOnDetail()"></ion-icon>
                  <ion-label (click)="clickOnSubject(class.classroomcode, class.subjects)" class="ion-no-margin clear">
                    <ion-card-header class="clear">
                        <ion-card-subtitle>{{ class.section }}</ion-card-subtitle>
                      <ion-card-title>{{ class.classname }}</ion-card-title>
                    </ion-card-header>
                    <ion-card-content class="ion-no-padding">
                      <ul class="custom-list">
                        <li><b>{{ class.students.length }}</b><br>STUDENTS</li>
                        <li><b>{{ class.teachers.length }}</b><br>TEACHERS</li>
                        <li><b>{{ class.subjects.length }}</b><br>SUBJECTS</li>
                      </ul>
                    </ion-card-content>
                  </ion-label>
                </ion-item>
    
                <ion-item-options side="start">
                  <ion-item-option color="blackwhite" (click)="onEdit(class.classroomcode)">EDIT <ion-icon slot="icon-only" name="create-outline"></ion-icon></ion-item-option>
                </ion-item-options>
                <ion-item-options side="end">
                  <ion-item-option color="blackwhite" (click)="onEdit(class.classroomcode)">EDIT <ion-icon slot="icon-only" name="create-outline"></ion-icon></ion-item-option>
                </ion-item-options>
              </ion-item-sliding>
          </div>
        </ion-virtual-scroll> -->
<!-- list virtual scroll  without item-sliding -->
        <!-- <ion-virtual-scroll [items]="classes">
            <ion-item *virtualItem="let class" lines="none" class="classroom-item">
              <ion-icon slot="end" name="create-outline" (click)="onEdit()"></ion-icon>
              <ion-label (click)="onClick()" class="ion-no-margin">
                <ion-card-header>
                  <ion-card-subtitle>{{ class.section }}</ion-card-subtitle>
                  <ion-card-title>{{ class.classname }}</ion-card-title>
                </ion-card-header>
                <ion-card-content class="ion-no-padding">
                  <ul class="custom-list">
                    <li><b>{{ class.students.length }}</b><br>STUDENTS</li>
                    <li><b>{{ class.teachers.length }}</b><br>TEACHERS</li>
                    <li><b>{{ class.subjects.length }}</b><br>SUBJECTS</li>
                  </ul>
                </ion-card-content>
              </ion-label>
            </ion-item>

        </ion-virtual-scroll>
         -->
<!-- card with Virtual scroll  -->
        <!-- <ion-virtual-scroll [items]="classes">
    <ion-card *virtualItem="let class" >
      <ion-icon class="icon-position" name="create-outline" (click)="onEdit()" ></ion-icon>
      <div (click)="onClick()">
        <ion-card-header>
          <ion-card-subtitle>{{ class.section }}</ion-card-subtitle>
          <ion-card-title>{{ class.classname }}</ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <ul class="custom-list">
          <li><b>{{ class.students.length }}</b><br>STUDENTS</li>
          <li><b>{{ class.teachers.length }}</b><br>TEACHERS</li>
          <li><b>{{ class.subjects.length }}</b><br>SUBJECTS</li>
        </ul>
      </ion-card-content>
    </div>
    </ion-card>
  </ion-virtual-scroll> -->
      </ion-col>
    </ion-row>
  </ion-grid>
  <ion-fab vertical="bottom" horizontal="end" slot="fixed">
    <ion-fab-button color="blackwhite" (click)="addClassroom()">
      <ion-icon name="add-outline"></ion-icon>
    </ion-fab-button>
  </ion-fab>
</ion-content>