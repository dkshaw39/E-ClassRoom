function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function _createClass(n,t,e){return t&&_defineProperties(n.prototype,t),e&&_defineProperties(n,e),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{X1cD:function(n,t,e){"use strict";e.r(t),e.d(t,"ClassroomsPageModule",(function(){return k}));var o,i=e("ofXK"),c=e("3Pt+"),r=e("TEn/"),s=e("tyNb"),a=e("mrSG"),l=e("fXoL"),b=e("OmBq"),u=((o=function(){function n(t,e,o){_classCallCheck(this,n),this.modalController=t,this.formBuilder=e,this.classroomService=o,this.classForm=this.formBuilder.group({Institute:["",[c.m.required]],Name:["",[c.m.required]],Section:["",[c.m.required]]})}return _createClass(n,[{key:"ngOnInit",value:function(){}},{key:"closeModal",value:function(){this.modalController.dismiss()}},{key:"onSubmit",value:function(){this.classroomService.add(this.Institute.value,this.Name.value,this.Section.value),this.closeModal()}},{key:"Name",get:function(){return this.classForm.get("Name")}},{key:"Section",get:function(){return this.classForm.get("Section")}},{key:"Institute",get:function(){return this.classForm.get("Institute")}}]),n}()).\u0275fac=function(n){return new(n||o)(l.Kb(r.V),l.Kb(c.a),l.Kb(b.a))},o.\u0275cmp=l.Eb({type:o,selectors:[["app-modal-addclassroom"]],decls:32,vars:2,consts:[["slot","end"],["color","blackwhite",3,"click"],["slot","icon-only","name","close"],[3,"formGroup","ngSubmit"],["fixed",""],[1,"ion-padding-bottom"],["size","8","offset","2","size-lg","4","offset-lg","4",1,"ion-text-center","ion-text-uppercase"],[1,"ion-no-padding"],["size","8","offset","2","size-lg","4","offset-lg","4",1,"ion-text-center"],["position","floating"],["required","","formControlName","Institute","type","text"],["required","","formControlName","Name","type","text"],["required","","formControlName","Section","type","text"],[1,"ion-padding-top"],["color","blackwhite","type","submit","expand","block","shape","round",3,"disabled"]],template:function(n,t){1&n&&(l.Nb(0,"ion-toolbar"),l.Nb(1,"ion-buttons",0),l.Nb(2,"ion-button",1),l.Vb("click",(function(){return t.closeModal()})),l.Lb(3,"ion-icon",2),l.Mb(),l.Mb(),l.Mb(),l.Nb(4,"form",3),l.Vb("ngSubmit",(function(){return t.onSubmit()})),l.Nb(5,"ion-grid",4),l.Nb(6,"ion-row",5),l.Nb(7,"ion-col",6),l.Nb(8,"h6"),l.mc(9,"ADD Classroom"),l.Mb(),l.Mb(),l.Mb(),l.Nb(10,"ion-row",7),l.Nb(11,"ion-col",8),l.Nb(12,"ion-item"),l.Nb(13,"ion-label",9),l.mc(14,"Institute"),l.Mb(),l.Lb(15,"ion-input",10),l.Mb(),l.Mb(),l.Mb(),l.Nb(16,"ion-row",7),l.Nb(17,"ion-col",8),l.Nb(18,"ion-item"),l.Nb(19,"ion-label",9),l.mc(20,"Class Name"),l.Mb(),l.Lb(21,"ion-input",11),l.Mb(),l.Mb(),l.Mb(),l.Nb(22,"ion-row",7),l.Nb(23,"ion-col",8),l.Nb(24,"ion-item"),l.Nb(25,"ion-label",9),l.mc(26,"Section / Batch"),l.Mb(),l.Lb(27,"ion-input",12),l.Mb(),l.Mb(),l.Mb(),l.Nb(28,"ion-row",13),l.Nb(29,"ion-col",8),l.Nb(30,"ion-button",14),l.mc(31," Add Class "),l.Mb(),l.Mb(),l.Mb(),l.Mb(),l.Mb()),2&n&&(l.Ab(4),l.cc("formGroup",t.classForm),l.Ab(26),l.cc("disabled",t.classForm.invalid))},directives:[r.Q,r.g,r.f,r.s,c.n,c.h,c.c,r.q,r.J,r.m,r.w,r.A,r.v,r.cb,c.l,c.g,c.b],styles:["form[_ngcontent-%COMP%]{margin:auto 0}h6[_ngcontent-%COMP%]{letter-spacing:.4rem}"]}),o),d=e("sYmb");function m(n,t){1&n&&(l.Nb(0,"ion-item"),l.Nb(1,"ion-label",12),l.mc(2,"Please enroll yourself in a class"),l.Mb(),l.Mb())}function f(n,t){if(1&n){var e=l.Ob();l.Nb(0,"ion-item-sliding",14),l.Nb(1,"ion-item",15),l.Nb(2,"ion-icon",16),l.Vb("click",(function(){return l.hc(e),l.Xb(3).clickOnDetail()})),l.Mb(),l.Nb(3,"ion-label",17),l.Vb("click",(function(){l.hc(e);var n=l.Xb().$implicit;return l.Xb(2).clickOnSubject(n.Id,n.Subjects)})),l.Nb(4,"ion-card-header",18),l.Nb(5,"ion-card-subtitle"),l.mc(6),l.Mb(),l.Nb(7,"ion-card-title"),l.mc(8),l.Mb(),l.Mb(),l.Nb(9,"ion-card-content",3),l.Nb(10,"ul",19),l.Nb(11,"li"),l.Nb(12,"b"),l.mc(13),l.Mb(),l.Lb(14,"br"),l.mc(15,"STUDENTS"),l.Mb(),l.Nb(16,"li"),l.Nb(17,"b"),l.mc(18),l.Mb(),l.Lb(19,"br"),l.mc(20,"TEACHERS"),l.Mb(),l.Nb(21,"li"),l.Nb(22,"b"),l.mc(23),l.Mb(),l.Lb(24,"br"),l.mc(25,"SUBJECTS"),l.Mb(),l.Mb(),l.Mb(),l.Mb(),l.Mb(),l.Nb(26,"ion-item-options",20),l.Nb(27,"ion-item-option",10),l.Vb("click",(function(){l.hc(e);var n=l.Xb().$implicit;return l.Xb(2).onEdit(n.Id)})),l.mc(28,"EDIT "),l.Lb(29,"ion-icon",21),l.Mb(),l.Mb(),l.Nb(30,"ion-item-options",22),l.Nb(31,"ion-item-option",10),l.Vb("click",(function(){l.hc(e);var n=l.Xb().$implicit;return l.Xb(2).onEdit(n.Id)})),l.mc(32,"EDIT "),l.Lb(33,"ion-icon",21),l.Mb(),l.Mb(),l.Mb()}if(2&n){var o=l.Xb().$implicit;l.Ab(6),l.oc("Section ",o.Section,""),l.Ab(2),l.nc(o.Name),l.Ab(5),l.nc(o.TotalStudents),l.Ab(5),l.nc(o.TotalTeachers),l.Ab(5),l.nc(o.TotalSubjects)}}function g(n,t){if(1&n&&(l.Nb(0,"div"),l.lc(1,f,34,5,"ion-item-sliding",13),l.Mb()),2&n){var e=t.$implicit,o=l.Xb().$implicit;l.Ab(1),l.cc("ngIf",o===e.Institute)}}function p(n,t){if(1&n&&(l.Nb(0,"div"),l.Nb(1,"ion-item"),l.Nb(2,"ion-label"),l.mc(3),l.Mb(),l.Mb(),l.lc(4,g,2,1,"div",6),l.Mb()),2&n){var e=t.$implicit,o=l.Xb();l.Ab(3),l.nc(e),l.Ab(1),l.cc("ngForOf",o.classes)}}var h,M,N,v=[{path:"",component:(h=function(){function n(t,e,o,i,c){_classCallCheck(this,n),this.classroomService=t,this.actionctrl=e,this.modalController=o,this.router=i,this.loadingController=c,this.classes=[],this.institutes=[]}return _createClass(n,[{key:"ngOnInit",value:function(){var n=this;this.classroomService.loadClass().subscribe((function(t){n.clsSubscription=n.classroomService.getAllClass().subscribe((function(t){n.classes=t,n.classes.forEach((function(t){n.institutes.find((function(n){return n===t.Institute}))||n.institutes.push(t.Institute)}))}))}))}},{key:"ngOnDestroy",value:function(){this.clsSubscription.unsubscribe()}},{key:"loadData",value:function(n){var t=this;setTimeout((function(){return console.log("Done"),n.target.complete(),n.target.disabled=!0,void(t.infiniteScroll.disabled=!0)}),500)}},{key:"createAlertAction",value:function(n){return Object(a.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.actionctrl.create({header:"Actions",buttons:n}).then((function(n){return n.present()}));case 2:case"end":return t.stop()}}),t,this)})))}},{key:"addClassroom",value:function(){return Object(a.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.modalController.create({component:u,componentProps:this.classes});case 2:n.sent.present();case 3:case"end":return n.stop()}}),n,this)})))}},{key:"onEdit",value:function(n){var t=this;this.createAlertAction([{text:"Add Student",icon:"add-circle-outline",handler:function(){t.router.navigate(["updateclassroom"],{queryParams:{classroomcode:n}}),console.log("Add Student")}},{text:"Add Teacher",icon:"add-circle-outline",handler:function(){t.router.navigate(["updateclassroom"],{queryParams:{classroomcode:n}}),console.log("Add Teacher")}},{text:"Add Subject",icon:"add-circle-outline",handler:function(){t.router.navigate(["updateclassroom"],{queryParams:{classroomcode:n}}),console.log("Add Subject")}},{text:"Cancel",icon:"close",role:"cancel"}])}},{key:"clickOnDetail",value:function(){console.log("Click to move")}},{key:"clickOnSubject",value:function(n,t){var e=this,o=[];t.forEach((function(t){console.log(t),o.push({text:t,icon:"book-outline",handler:function(){e.router.navigate(["/","class_subject"],{queryParams:{classroomcode:n,subject:t}}),console.log(t)}})})),o.push({text:"Cancel",icon:"close",role:"cancel"}),this.createAlertAction(o)}}]),n}(),h.\u0275fac=function(n){return new(n||h)(l.Kb(b.a),l.Kb(r.a),l.Kb(r.V),l.Kb(s.g),l.Kb(r.U))},h.\u0275cmp=l.Eb({type:h,selectors:[["app-classrooms"]],viewQuery:function(n,t){var e;1&n&&l.qc(r.t,!0),2&n&&l.gc(e=l.Wb())&&(t.infiniteScroll=e.first)},decls:19,vars:5,consts:[["slot","start"],["menu_id","m1"],["fixed","",1,"ion-no-padding"],[1,"ion-no-padding"],["size","12","size-md","6","offset-md","3",1,"ion-no-padding"],[4,"ngIf"],[4,"ngFor","ngForOf"],["threshold","100px",3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Loading more data..."],["vertical","bottom","horizontal","end","slot","fixed"],["color","blackwhite",3,"click"],["name","add-outline"],[1,"ion-text-center"],["class","classroom-item clear",4,"ngIf"],[1,"classroom-item","clear"],["lines","none",1,"clear"],["slot","end","name","chevron-forward-circle-outline",3,"click"],[1,"ion-no-margin","clear",3,"click"],[1,"clear"],[1,"custom-list"],["side","start"],["slot","icon-only","name","create-outline"],["side","end"]],template:function(n,t){1&n&&(l.Nb(0,"ion-header"),l.Nb(1,"ion-toolbar"),l.Nb(2,"ion-title"),l.mc(3),l.Yb(4,"translate"),l.Mb(),l.Nb(5,"ion-buttons",0),l.Lb(6,"ion-menu-button",1),l.Mb(),l.Mb(),l.Mb(),l.Nb(7,"ion-content"),l.Nb(8,"ion-grid",2),l.Nb(9,"ion-row",3),l.Nb(10,"ion-col",4),l.Nb(11,"ion-list"),l.lc(12,m,3,0,"ion-item",5),l.lc(13,p,5,2,"div",6),l.Mb(),l.Nb(14,"ion-infinite-scroll",7),l.Vb("ionInfinite",(function(n){return t.loadData(n)})),l.Lb(15,"ion-infinite-scroll-content",8),l.Mb(),l.Mb(),l.Mb(),l.Mb(),l.Nb(16,"ion-fab",9),l.Nb(17,"ion-fab-button",10),l.Vb("click",(function(){return t.addClassroom()})),l.Lb(18,"ion-icon",11),l.Mb(),l.Mb(),l.Mb()),2&n&&(l.Ab(3),l.nc(l.Zb(4,3,"CLASSROOM.Classroom")),l.Ab(9),l.cc("ngIf",0===t.classes.length),l.Ab(1),l.cc("ngForOf",t.institutes))},directives:[r.r,r.Q,r.P,r.g,r.E,r.n,r.q,r.J,r.m,r.B,i.i,i.h,r.t,r.u,r.o,r.p,r.s,r.w,r.A,r.z,r.j,r.k,r.l,r.i,r.y,r.x],pipes:[d.c],styles:['ion-content[_ngcontent-%COMP%]{--ion-background-color:#f1f1f1}.classroom-item[_ngcontent-%COMP%]{--ion-background-color:linear-gradient(180deg,#fff,#fdfdfd);z-index:2px}.classroom-item[_ngcontent-%COMP%], ion-card[_ngcontent-%COMP%]{margin:.6rem;box-shadow:0 1px 1px 0 rgba(0,0,0,.4);border-radius:0}ion-card[_ngcontent-%COMP%]{background-image:linear-gradient(180deg,#fff,#fdfdfd)}ion-card-header[_ngcontent-%COMP%]{padding-bottom:0}ul.custom-list[_ngcontent-%COMP%]{content:"";clear:both;width:100%;display:table;padding:0}.custom-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style-type:none;width:33.33333%;float:left;text-align:center}.icon-position[_ngcontent-%COMP%]{font-size:2rem;float:right}.clear[_ngcontent-%COMP%]{content:"";clear:both;width:auto}']}),h)}],C=((N=function n(){_classCallCheck(this,n)}).\u0275mod=l.Ib({type:N}),N.\u0275inj=l.Hb({factory:function(n){return new(n||N)},imports:[[s.k.forChild(v)],s.k]}),N),k=((M=function n(){_classCallCheck(this,n)}).\u0275mod=l.Ib({type:M}),M.\u0275inj=l.Hb({factory:function(n){return new(n||M)},imports:[[i.b,c.d,r.S,C,d.b]]}),M)}}]);